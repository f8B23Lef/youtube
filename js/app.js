!function(e){var n={};function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(a,i,function(n){return e[n]}.bind(null,i));return a},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=2)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.panel={curPage:1,countPerPage:null,totalPageCount:2,items:[],requestStr:"",pageToken:"",el:null},n.PanelItem=function(e){this.title=e.snippet.title,this.link="https://www.youtube.com/watch?v="+e.id.videoId,this.author=e.snippet.channelTitle,this.date=e.snippet.publishedAt.substring(0,10),this.description=e.snippet.description,this.imageUrl=e.snippet.thumbnails.medium.url,this.viewCount=e.snippet.viewCount||""},n.MAX_SHOWABLE_PAGES=5,n.RESERV_PAGES_NUMBER=2,n.PANEL_ITEM_WIDTH=340,n.MIN_PANEL_ITEM_PER_PAGE=1,n.MAX_PANEL_ITEM_PER_PAGE=4},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.isElementExist=function(e){return!!document.body.querySelector(""+e)},n.isEmptyString=function(e){return 0===e.length||!e.trim()},n.removeChildren=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}},function(e,n,t){"use strict";var a=t(3),i=t(1);window.onload=function(){window.addEventListener("resize",function(){if((0,a.hideMessage)(),(0,i.isElementExist)(".main-wrapper")){var e=(0,a.countItemsPerPage)();if(a.panel.countPerPage!==e){var n=(a.panel.curPage-1)*a.panel.countPerPage;a.panel.countPerPage=e,a.panel.curPage=Math.floor(n/a.panel.countPerPage+1),(0,a.renderPanel)()}}}),(0,a.renderSearchField)()}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.countItemsPerPage=n.hideMessage=n.renderPanel=n.renderSearchField=n.panel=void 0;var a=t(4),i=t(0),r=t(1);function o(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}var c=function(e){if((0,r.isElementExist)(".message")){var n=document.querySelector(".message");n.innerText=e,n.hidden=!1}else{var t='<p class="message">'+e+"</p>";document.querySelector(".search-form__content").insertAdjacentHTML("afterEnd",t)}},u=function(){(0,r.isElementExist)(".message")&&(document.querySelector(".message").hidden=!0)},l=function(e){var n=document.createElement("section");n.className="main-wrapper__item";var t='<div class="main-wrapper__item-header"> \n        <img src="'+e.imageUrl+'" alt="image" width="320" height="180"/>\n        <a href="'+e.link+'" target="_blank">'+e.title+'</a>\n      </div>\n\n      <div class="main-wrapper__item-information"> \n        <ul class="main-wrapper__item-list">\n          <li>\n            <i class="fas fa-user-circle"></i>\n            <span>'+e.author+'</span>\n          </li>\n          <li>\n            <i class="fas fa-calendar-alt"></i>\n            <span>'+e.date+'</span>\n          </li>\n          <li>\n            <i class="fas fa-eye"></i>\n            <span>'+e.viewCount+'</span>\n          </li>\n        </ul>\n      </div>\n\n      <div class="main-wrapper__item-description"> \n        '+e.description+"\n      </div> ";return n.insertAdjacentHTML("afterBegin",t),n},s=function(){var e=Math.floor(window.innerWidth/i.PANEL_ITEM_WIDTH);return e>0?Math.min(e,i.MAX_PANEL_ITEM_PER_PAGE):i.MIN_PANEL_ITEM_PER_PAGE},p=function(){var e,n,t,a="";if(i.panel.curPage<i.MAX_SHOWABLE_PAGES)for(var c=i.panel.totalPageCount>i.panel.curPage+1?Math.min(i.panel.totalPageCount,i.MAX_SHOWABLE_PAGES):i.panel.curPage+1,u=0;u<c;u+=1)a+="<li>"+(u+1)+"</li>";else a='<li>1</li>     <li class="disable">...</li>     <li>'+(i.panel.curPage-1)+"</li>     <li>"+i.panel.curPage+"</li>     <li>"+(i.panel.curPage+1)+"</li>";document.querySelector(".pagination").insertAdjacentHTML("afterBegin",a),function(){if((0,r.isElementExist)(".pagination li.active")){var e=document.querySelector(".pagination li.active"),n=[].concat(o(document.querySelector(".pagination").children)).indexOf(e);document.querySelector(".pagination li:nth-child("+(n+1)+")").classList.remove("active")}}(),e=[].concat(o(document.querySelector(".pagination").children)),n=e.find(function(e){return e.innerText===String(i.panel.curPage)}),t=e.indexOf(n),document.querySelector(".pagination li:nth-child("+(t+1)+")").classList.add("active")},d=function(){!function(){if((0,r.isElementExist)(".pagination"))(0,r.removeChildren)(document.querySelector(".pagination"));else{var e=document.createElement("nav"),n=document.createElement("ul");n.className="pagination",n.addEventListener("click",g),e.appendChild(n),document.querySelector(".main-wrapper").insertAdjacentElement("afterEnd",e)}}(),p()},f=function(){!function(){if((0,r.isElementExist)(".main-wrapper"))(0,r.removeChildren)(document.querySelector(".main-wrapper"));else{var e=document.createElement("main");e.className="main-wrapper",document.querySelector(".search-form").insertAdjacentElement("afterEnd",e),i.panel.el=e}}(),function(){i.panel.countPerPage=s();for(var e=(i.panel.curPage-1)*i.panel.countPerPage,n=e+i.panel.countPerPage,t=e;t<n;t+=1){var a=new i.PanelItem(i.panel.items[t]);i.panel.el.appendChild(l(a))}}(),d()},m=function(){var e=document.querySelector(".search-form__input").value.trim();return(0,r.isEmptyString)(e)?(c("Please enter your request"),!1):(u(),!0)},g=function(e){var n;"LI"===e.target.tagName&&"disable"!==e.target.className&&(u(),i.panel.curPage=parseInt(e.target.innerText,10),n=i.RESERV_PAGES_NUMBER*i.panel.countPerPage,i.panel.items.length-i.panel.curPage*i.panel.countPerPage<n&&(0,a.makeAdditionalDataRequest)(),f())};n.panel=i.panel,n.renderSearchField=function(){document.body.insertAdjacentHTML("afterBegin",'<form class="search-form">\n<div class="search-form__content">\n<span class="search-form__button"><i class="fas fa-search"></i></span>\n<input class="search-form__input" type="search" placeholder="Search..."/>\n</div>\n</form>\n'),document.body.querySelector(".search-form__button").addEventListener("click",function(){m()&&(0,a.makeDataRequest)(f,c)}),document.addEventListener("keydown",function(e){"Enter"===e.code&&(e.preventDefault(),m()&&(0,a.makeDataRequest)(f,c))})},n.renderPanel=f,n.hideMessage=u,n.countItemsPerPage=s},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.makeAdditionalDataRequest=n.makeDataRequest=void 0;var a=t(0),i=function(){return document.querySelector(".search-form__input").value.trim()},r="AIzaSyCsfImNexVdmlnxQKZHsELAd4_45JuTbQQ",o=function(e){return"https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&key="+r+"&id="+e};n.makeDataRequest=function(e,n){fetch("https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&key="+r+"&q="+i()+"&maxResults=15").then(function(e){return e.json()}).then(function(e){0!==e.items.length?(a.panel.requestStr=i(),a.panel.pageToken=e.nextPageToken,a.panel.curPage=1,a.panel.totalPageCount=2,a.panel.items=e.items):n("Video not found")}).then(function(){return function(e,n){fetch(o(e)).then(function(e){return e.json()}).then(function(e){e.items.forEach(function(e,n){a.panel.items[n].snippet.viewCount=e.statistics.viewCount}),n()}).catch(function(e){console.log(e),n()})}(a.panel.items.map(function(e){return e.id.videoId}).join(","),e)}).catch(function(e){return console.log(e)})},n.makeAdditionalDataRequest=function(){var e=a.panel.items.length;fetch("https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&key="+r+"&q="+a.panel.requestStr+"&pageToken="+a.panel.pageToken+"&maxResults=15").then(function(e){return e.json()}).then(function(e){a.panel.pageToken=e.nextPageToken,e.items.forEach(function(e){return a.panel.items.push(e)});var n=Math.floor(a.panel.items.length/a.panel.countPerPage);return a.panel.totalPageCount=n-a.RESERV_PAGES_NUMBER,e.items}).then(function(n){return function(e,n){fetch(o(e)).then(function(e){return e.json()}).then(function(e){return e.items.forEach(function(e,t){a.panel.items[t+n].snippet.viewCount=e.statistics.viewCount})}).catch(function(e){return console.log(e)})}(n.map(function(e){return e.id.videoId}).join(","),e)}).catch(function(e){return console.log(e)})}}]);